<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../plugins/fontawesome-free/all.min.css">
    <link rel="stylesheet" href="../adminlte/css/adminlte.min.css">
    <link rel="stylesheet" href="../plugins/toastr.min.css">
    <link rel="stylesheet" href="../plugins/bootstrap-4.min.css">
    <link rel="stylesheet" href="../plugins/sweetalert2.min.css">
    <link rel="stylesheet" href="../plugins/jquery.json-viewer.css">
    <link rel="stylesheet" href="../plugins/jquery.tagsinput.css">
    <link rel="stylesheet" href="../plugins/bootstrap/bootstrap-switch.css">
    <link rel="stylesheet" href="../css/kavi.css">
    <title>ROUTE DETAIL</title>
</head>
<body class="hold-transition sidebar-mini dark-mode">
<section class="content-header">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6 md-1">
                <h5><i class="fa fa-route"></i>&nbsp;&nbsp;<span id="detail-name-title" class="text-bold"></span></h5>
            </div>
            <div class="col-sm-6 md-2">
                <a href="#" class="text text-success float-sm-right" onclick="window.history.go(-1)"><i class="fa fa-arrow-rotate-back"></i>&nbsp;Back</a>
            </div>
        </div>
    </div>
</section>
<section class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-5">
                <div class="card">
                    <div class="card-header mb-1">
                        <h2 class="card-title text-bold text-success"><i class="fa fa-edit"></i>&nbsp;Route Detail</h2>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="route-name">
                                Name
                                <span class="text-secondary">
                            <small>(optional)
                            </small>
                        </span>
                            </label>
                            <input id="route-name" type="text" class="form-control form-control-sm form-control-border">
                            <small class="text-gray">The route name.</small>
                        </div>
                        <div class="form-group">
                            <label for="route-tags">
                                Tags
                                <span class="text-secondary">
                                        <small>(optional)
                                        </small>
                                    </span>
                            </label>
                            <input id="route-tags"  type="text" class="tagsinput-mark">
                            <small class="text-gray">An optional set of strings associated with the Route for grouping and filtering.
                                Press <span class="text-danger">Enter</span>
                                to accept a value.</small>
                        </div>
                        <div class="form-group">
                            <label for="protocols">
                                Protocols
                            </label>
                            <input id="protocols"  type="text" class="tagsinput-mark">
                            <small class="text-gray">An array of the protocols this Route should allow.
                                See the Route Object section for a list of accepted protocols.
                                When set to only "https", HTTP requests are answered with an upgrade error.
                                When set to only "http", HTTPS requests are answered with an error.
                                <span class="text-danger">Default: ["http", "https"].</span>
                                Press <span class="text-danger">Enter</span>to accept a value.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="method">
                                Methods
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="method"  type="text" class="tagsinput-mark">
                            <small class="text-gray">A list of HTTP methods that match this Route.
                                Press <span class="text-danger">Enter</span>
                                to accept a value.</small>
                        </div>
                        <div class="form-group">
                            <label for="hosts">
                                Hosts
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="hosts"  type="text" class="tagsinput-mark">
                            <small class="text-gray">
                                A list of domain names that match this Route.
                                Note that the hosts value is case sensitive.
                                With form-encoded, the notation is hosts[]=example.com&hosts[]=foo.test.
                                With JSON, use an Array.
                                Press <span class="text-danger">Enter</span>
                                to accept a value.</small>
                        </div>
                        <div class="form-group">
                            <label for="paths">
                                Paths
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="paths"  type="text" class="tagsinput-mark">
                            <small class="text-gray">
                                A list of paths that match this Route.
                                With form-encoded, the notation is paths[]=/foo&paths[]=/bar.
                                With JSON, use an array. The path can be a regular expression, or a plain text pattern.
                                The path patterns are matched against a normalized path,
                                with most percent-encoded characters decoded, path folding, and preserved semantics.
                                Press <span class="text-danger">Enter</span>to accept a value.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="headers">
                                Headers
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="headers"  type="text" class="tagsinput-mark">
                            <small class="text-gray">
                                One or more lists of values indexed by header name that will cause this Route to match if present in the request.
                                The Host header cannot be used with this attribute: hosts should be specified using the hosts attribute.
                                When headers contains only one value and that value starts with the special prefix ~*, the value is interpreted as a regular expression.
                                Press <span class="text-danger">Enter</span>to accept a value.</small>
                        </div>
                        <div class="form-group">
                            <label for="redirect-code">
                                Https redirect status code
                            </label>
                            <input id="redirect-code" type="text" class="form-control form-control-sm form-control-border">
                            <small class="text-gray">The status code Kong responds with when all properties of a Route match except the protocol i.e.
                                if the protocol of the request is HTTP instead of HTTPS.
                                Location header is injected by Kong if the field is set to 301, 302, 307 or 308.
                                Note: This config applies only if the Route is configured to only accept the https protocol.
                                Accepted values are: 426, 301, 302, 307, 308. <span class="text-danger">Default: 426</span>.</small>
                        </div>
                        <div class="form-group">
                            <label for="regex-priority">
                                Regex priority
                                <span class="text-secondary">
                                        <small>(optional)</small>
                                </span>
                            </label>
                            <input id="regex-priority" type="text" class="form-control form-control-sm form-control-border">
                            <small class="text-gray">
                                A number used to choose which route resolves a given request when several routes match it using regexes simultaneously.
                                When two routes match the path and have the same regex_priority, the older one (lowest created_at) is used.
                                Note that the priority for non-regex routes is different (longer non-regex routes are matched before shorter ones).
                                <span class="text-danger">Default: 0</span>.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="strip-path">
                                Strip path&nbsp;&nbsp;
                            </label>
                            <input id="strip-path" type="checkbox" data-size="mini" class="form-control form-control-sm form-control-border" checked data-off-color="danger" data-on-color="success">
                            <small class="text-gray">
                                When matching a Route via one of the paths, strip the matching prefix from the upstream request URL.
                                Default: <span class="text-danger">true</span>.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="path-handling">
                                Path handling
                                <span class="text-secondary">
                                        <small>(optional)</small>
                                </span>
                            </label>
                            <input id="path-handling" type="text" class="form-control form-control-sm form-control-border">
                            <small class="text-gray">
                                Controls how the Service path, Route path and requested path are combined when sending a request to the upstream.
                                See above for a detailed description of each behavior. Accepted values are: "v0", "v1".
                                <span class="text-danger">Default: "v0"</span>.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="preserve-host">
                                Preserve host&nbsp;&nbsp;
                            </label>
                            <input id="preserve-host" type="checkbox" data-size="mini" class="form-control form-control-sm form-control-border" checked data-off-color="danger" data-on-color="success">
                            <small class="text-gray">
                                When matching a Route via one of the hosts domain names, use the request Host header in the upstream request headers.
                                If set to false, the upstream Host header will be that of the Service’s host.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="request-buffering">
                                Request buffering&nbsp;&nbsp;
                            </label>
                            <input id="request-buffering" type="checkbox" data-size="mini" class="form-control form-control-sm form-control-border" checked data-off-color="danger" data-on-color="success">
                            <small class="text-gray">
                                Whether to enable request body buffering or not.
                                With HTTP 1.1, it may make sense to turn this off on services that receive data with chunked transfer encoding.
                                <span class="text-danger">Default: true</span>.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="response-buffering">
                                Response buffering&nbsp;&nbsp;
                            </label>
                            <input id="response-buffering" type="checkbox" data-size="mini" class="form-control form-control-sm form-control-border" checked data-off-color="danger" data-on-color="success">
                            <small class="text-gray">
                                Whether to enable response body buffering or not.
                                With HTTP 1.1, it may make sense to turn this off on services that send data with chunked transfer encoding.
                                <span class="text-danger">Default: true</span>.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="snis">
                                SNIs
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="snis"  type="text" class="tagsinput-mark">
                            <small class="text-gray">
                                A list of SNIs that match this Route when using stream routing.
                                Press <span class="text-danger">Enter</span>
                                to accept a value.</small>
                        </div>
                        <div class="form-group">
                            <label for="sources">
                                Sources
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="sources"  type="text" class="tagsinput-mark">
                            <small class="text-gray">
                                A list of IP sources of incoming connections that match this Route when using stream routing.
                                Each entry is an object with fields “ip” (optionally in CIDR range notation) and/or “port”.
                                Press <span class="text-danger">Enter</span>
                                to accept a value.</small>
                        </div>
                        <div class="form-group">
                            <label for="destinations">
                                Destinations
                                <span class="text-secondary">
                                        <small>(semi-optional)</small>
                                </span>
                            </label>
                            <input id="destinations"  type="text" class="tagsinput-mark">
                            <small class="text-gray">
                                A list of IP destinations of incoming connections that match this Route when using stream routing.
                                Each entry is an object with fields “ip” (optionally in CIDR range notation) and/or “port”.
                                Press <span class="text-danger">Enter</span>to accept a value.</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7">
                <div class="card">
                    <div class="card-header mb-1">
                        <h2 class="card-title text-bold text-success">
                            <i class="fa fa-plug"></i>&nbsp;Associated Plugins
                        </h2>
                        <div class="card-tools">
                            <a type="button" class="btn btn-outline-success  btn-xs">
                                <i class="fa-regular fa-plus">&nbsp;Add Plugin</i>
                            </a>
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fa fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <table id="route-plugins" class="table table-striped table-hover projects">
                            <thead>
                            <tr>
                                <th>
                                    <i class="fa fa-info-circle"></i>
                                </th>
                                <th  >
                                    Name
                                </th>
                                <th>
                                    Enabled
                                </th>
                                <th width="15%"></th>
                            </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div id="route-plug-nodata"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="rawview">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Raw View</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id = "rawview-text" class="text text-white bg-true-dark" style="white-space: pre-wrap"></div>
            </div>
        </div>
    </div>
</div>
<script src="../plugins/jquery.min.js"></script>
<script src="../plugins/jquery.json-viewer.js"></script>
<script src="../plugins/bootstrap/bootstrap.bundle.min.js"></script>
<script src="../adminlte/js/adminlte.js"></script>
<script src="../plugins/toastr.min.js"></script>
<script src="../plugins/jquery.tagsinput.js"></script>
<script src="../plugins/sweetalert2.min.js"></script>
<script src="../plugins/bootstrap/bootstrap-switch.min.js"></script>
<script src = "../plugins/jquery-deparam.min.js"></script>
<script src="../js/kavi.js"></script>
<script>
    let url = window.location.href;
    let params = $.deparam(url.split("?")[1])
    Route_detail._init(params.id)
</script>
</body>
</html>